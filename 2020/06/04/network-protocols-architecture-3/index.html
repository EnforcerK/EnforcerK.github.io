<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Network Protocols and Architecture (3), 被捕の瓜子Blog">
    <meta name="baidu-site-verification" content="fmlEuI34ir">
    <meta name="google-site-verification" content="yCy2azpds5XSuGZvis6OuA-XIGF5GuGpYRAaGfD6o48">
    <meta name="360-site-verification" content="b7c11a830ef90fd1464ad6206bb7b6e7">
    <meta name="description" content="PS： message 我翻译的是消息，应该是报文更好点。Week3、 Communicating on the Local Area Network1. Distributing Messages to Other Networks1.1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Network Protocols and Architecture (3) | 被捕の瓜子Blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?46e79e71af0709a5b9106bf20cecc493";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    
        <script>
            (function(){
                var bp = document.createElement('script');
                var curProtocol = window.location.protocol.split(':')[0];
                if (curProtocol === 'https') {
                    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
                }
                else {
                    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                }
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(bp, s);
            })();
        </script>
    

    <script>
        (function(){
        var src = "https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba";
        document.write('<script src="' + src + '" id="sozz"><\/script>');
        })();
    </script>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">被捕の瓜子Blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <i class="fa fa-address-book"></i>
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/contact" class="waves-effect waves-light">
            
            <i class="fa fa-comments"></i>
            
            <span>留言板</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">被捕の瓜子Blog</div>
        <div class="logo-desc">
            
            社畜 | SE |
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-address-book"></i>
                
                友情链接
            </a>
        </li>
        
        <li>
            <a href="/contact" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-comments"></i>
                
                留言板
            </a>
        </li>
        
        
    </ul>
</div>

        </div>

        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/27.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        Network Protocols and Architecture (3)
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                        <a href="/tags/网络基础/" target="_blank">
                            <span class="chip bg-color">网络基础</span>
                        </a>
                        
                        <a href="/tags/Cisco/" target="_blank">
                            <span class="chip bg-color">Cisco</span>
                        </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                        <a href="/categories/计算机网络/" class="post-category" target="_blank">
                            计算机网络
                        </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-06-04
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>作者:&nbsp;&nbsp;
                    
                    Adward
                    
                </div>

                
                
                <div class="info-break-policy">
                    <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                    3k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    10 分
                </div>
                
                

                
                <div id="busuanzi_container_page_pv" class="info-break-policy">
                    <i class="fa fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                    <span id="busuanzi_value_page_pv"></span>
                </div>
                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <pre><code>PS： message 我翻译的是消息，应该是报文更好点。</code></pre><h1 id="Week3、-Communicating-on-the-Local-Area-Network"><a href="#Week3、-Communicating-on-the-Local-Area-Network" class="headerlink" title="Week3、 Communicating on the Local Area Network"></a>Week3、 Communicating on the Local Area Network</h1><h2 id="1-Distributing-Messages-to-Other-Networks"><a href="#1-Distributing-Messages-to-Other-Networks" class="headerlink" title="1. Distributing Messages to Other Networks"></a>1. Distributing Messages to Other Networks</h2><h3 id="1-1-Dividing-the-Local-Network"><a href="#1-1-Dividing-the-Local-Network" class="headerlink" title="1.1 Dividing the Local Network"></a>1.1 Dividing the Local Network</h3><blockquote>
<p>随着网络规模的增长，通常有必要将一个接入层网络划分成多个接入层网络。基于不同的标准有不同的划分网络方法，包括：</p>
<ol>
<li>Broadcast containment 广播控制</li>
<li>安全需求</li>
<li>物理位置</li>
<li>逻辑分组</li>
</ol>
</blockquote>
<blockquote>
<p>分布层将这些独立的本地网络连接起来，控制其间流量。它负责确保本地网络主机上主机之间的通信保持在本地。只有发送给其他网络的流量才会被传递出去。</p>
</blockquote>
<blockquote>
<p>组成分布层的网络设备被设计用来互联网络，而不是单独的主机。单个主机通过访问层设备（如交换机）连接到网络。访问层设备通过分部层设备（如路由器）彼此连接。</p>
</blockquote>
<p>查看下图有关互联独立网络的附加信息</p>
<p><img src="http://static.zybuluo.com/Adward-Wang/h2ym21jolbi0h1to2b2udpld/Broadcast_Containment.jpg" alt="Broadcast_Containment"></p>
<blockquote>
<p>分布层中的路由器可以将广播限制在需要监听它们的本地网络上。尽管广播是必要的，但是在同一个本地网络上连接太多的主机会产生过多的广播流量，进而会减慢网速。</p>
</blockquote>
<p><img src="http://static.zybuluo.com/Adward-Wang/ezg580coyqba0qk4u0depya2/Security.jpg" alt="Security"></p>
<blockquote>
<p>分布层中的路由器可以分离并保护机密信息所在的某些计算机组。路由器还可以隐藏内部计算机的地址，以防止受到攻击，并控制谁可以进入或离开本地网络。</p>
</blockquote>
<p><img src="http://static.zybuluo.com/Adward-Wang/l2kbyldd174umnulocanl6cd/Locations.jpg" alt="Locations"></p>
<blockquote>
<p>分布层的路由器可用于互联组织中地理位置分散的各个本地网络</p>
</blockquote>
<p><img src="http://static.zybuluo.com/Adward-Wang/n5ugs4iw6bxpiplua8r9kpnh/Logical_Grouping.png" alt="Logical_Grouping"></p>
<blockquote>
<p>分布层中的路由器可用于对具有共同需求或用于访问资源的用户（例如公司内的部门）进行逻辑分组。</p>
</blockquote>
<h3 id="1-2-Now-We-Need-Routing"><a href="#1-2-Now-We-Need-Routing" class="headerlink" title="1.2 Now We Need Routing"></a>1.2 Now We Need Routing</h3><blockquote>
<p>大多数情况下，我们希望我们的设备可以连接到本地网络之外：连接到其他家庭、企业和因特网。本地网段之外的设备称为远程主机。当源设备将数据包发送ou到远程目标设备时，则需要路由器和路由的帮助。<strong>路由</strong>是确定到达目的地的最佳路径的过程。</p>
</blockquote>
<blockquote>
<p>路由器是连接多个第三层IP网络的网络设备。在网络的分布层，路由器引导流量并执行其他对网络有效运行至关重要的功能。路由器和交换机一样，能够解码、读取发送给它们的消息。与基于第二层MAC地址进行转发决策的交换机不同，路由器基于第三层IP地址进行转发决策。</p>
</blockquote>
<blockquote>
<p><strong>数据包</strong>格式包含目标主机和源主机的IP地址，以及在它们之间发送的消息数据。路由器读取目标IP地址的网络部分，并使用它来找到哪个连接的网络是将消息（报文）转发到目标的最佳途径。</p>
</blockquote>
<pre><code>Q： 不要和以太网帧弄混了，我感觉我已经有点混了，到后面再理一理，网络层次不同。。。</code></pre><blockquote>
<p>只要源主机和目标主机的IP地址网络部分不匹配，就必须使用路由器来转发消息（报文）。如果位于网络1.1.1.0上的主机需要向网络5.5.5.0上的主机发送消息，则该主机会将消息转发到路由器。路由器收到该消息后，对<strong>以太网帧</strong>进行解封，然后读取<strong>IP数据包</strong>中的目标IP地址。然后，它确定消息将发往的位置，<strong>将数据包重新封装回新的帧（Nice！）</strong>，并将帧转发到其目的地。</p>
</blockquote>
<p>观看下面动画，查看转发消息时交换机和路由器如何使用帧中的MAC和IP地址。</p>
<p><img src="http://static.zybuluo.com/Adward-Wang/qc0qvrf28shf15t5p5wczo0i/forwarding_message.gif" alt="forwarding_message"></p>
<pre><code>Q :这怎么和我之前看的以太网帧格式不同，IP packet 封装在哪个部位？？data 里？？</code></pre><hr>
<h2 id="2-Keeping-a-Table"><a href="#2-Keeping-a-Table" class="headerlink" title="2. Keeping a Table"></a>2. Keeping a Table</h2><h3 id="2-1-Selecting-a-Path"><a href="#2-1-Selecting-a-Path" class="headerlink" title="2.1 Selecting a Path"></a>2.1 Selecting a Path</h3><blockquote>
<p>路由器如何决定将消息发送到目标网络的路径？？？</p>
</blockquote>
<blockquote>
<p>路由器上的每个端口都连接到不同的局域网。每个路由器包含一个表，表中列出了所有本地连接的网络以及其连接的端口。这些路由表还可以包含有关路由器用来访问非本地连接的其他远程网络的路由信息。</p>
</blockquote>
<blockquote>
<p>路由器接收到帧以后，会对帧进行解码，以获得包含目标IP地址的数据包。它将目标IP地址的网络部分与路由表中列出的网络进行匹配。如果目标网络地址在表中，则路由器会将包封装在新帧中以将其发送出去（PS： 他还将在新帧中插入新的目标MAC地址，并重新计算FCS字段）。它将新帧从路径关联的接口转发到目标网络。将数据包转发到目标网络的过程称为<strong>路由</strong>。</p>
</blockquote>
<blockquote>
<p>路由器接口不转发寻址到本地网络广播IP地址的消息。因此，本地网络广播不会通过路由器发送到其他本地网络。<br>观看以下动画，查看路由器如何转发数据包、阻止广播。</p>
</blockquote>
<p><img src="http://static.zybuluo.com/Adward-Wang/x4txn6gm0jho1dj7nqc6cku7/Selecting_a_Path.gif" alt="Selecting_a_Path"></p>
<h3 id="2-2-Building-the-Tables"><a href="#2-2-Building-the-Tables" class="headerlink" title="2.2 Building the Tables"></a>2.2 Building the Tables</h3><blockquote>
<p>路由器将数据包转发到以下两个位置之一： </p>
</blockquote>
<blockquote>
<ul>
<li>A、包含实际目标主机的直接连接的</li>
<li>B、转发到到达目标主机的路径上的另一个路由器。</li>
</ul>
</blockquote>
<blockquote>
<p>当路由器封装帧以将其转发出以太网接口时，他<strong>必须包含目标MAC地址</strong>。如果目标主机是本地连接到路由器的网络的一部分，则这是实际目标主机的MAC地址。如果路由器必须将数据包转发到另一台路由器，<strong>它将使用连接的路由器的MAC地址</strong>。路由器从<strong>ARP表</strong>获取这些MAC地址。</p>
</blockquote>
<blockquote>
<p><strong>每个路由器接口都是其所连接的本地网络的一部分，并为该网络维护自己的ARP表。ARP表中包含该网络上所有单个主机的MAC地址和IPv4地址。</strong></p>
</blockquote>
<blockquote>
<p>观看以下动画，查看主机和路由器如何处理和转发数据包。</p>
</blockquote>
<p><img src="http://static.zybuluo.com/Adward-Wang/lhcmly268sgcaz7zboo7fbq5/Build_the_Table.gif" alt="Build_the_Table"></p>
<h3 id="2-3-How-Routers-Use-Tables"><a href="#2-3-How-Routers-Use-Tables" class="headerlink" title="2.3 How Routers Use Tables"></a>2.3 How Routers Use Tables</h3><blockquote>
<p>路由器在本地和远程网络之间传输信息。为此，路由器必须使用路由表来存储信息。路由表与单个主机的地址无关。<strong>路由表包含网络的地址以及到达这些网络的最佳路径。</strong></p>
</blockquote>
<blockquote>
<p>有两种方法进入路由表：<br>1、通过从网络中其他路由器接收到的信息动态更新。<br>2、由网络管理员手动输入。<br>路由器使用路由表来确定使用哪个接口将消息转发到其预期目的地。</p>
</blockquote>
<blockquote>
<p>如果路由器无法确定将消息转发到何处，它将丢弃该消息。（(⊙o⊙)…），网络管理员使用<strong>默认路由</strong>配置路由表，以防止丢弃数据包，因为到目标网络的路径不在路由表中。<strong>默认路由</strong>是路由器转发包含未知目标IP网络地址的数据包的接口。这个默认路由通常连接到另一个可以将包转发到其最终目的地网络的路由器。</p>
</blockquote>
<blockquote>
<p>查看下图信息，以查看路由表中每种条目类型的描述。</p>
</blockquote>
<p><img src="http://static.zybuluo.com/Adward-Wang/w11ao6ynd8t24pp6y0k2cpxu/Routing_Table.jpg" alt="Routing_Table"></p>
<blockquote>
<ul>
<li>Type 连接类型，C代表直接</li>
<li>Network 目的地的网络地址</li>
<li>Port 用于将数据包转发到指定目标网络的路由器上的接口。</li>
</ul>
</blockquote>
<h3 id="2-4-Sending-to-Remote-Networks"><a href="#2-4-Sending-to-Remote-Networks" class="headerlink" title="2.4 Sending to Remote Networks"></a>2.4 Sending to Remote Networks</h3><blockquote>
<p>主机用于将消息发送到远程网络上的目标的方法与主机在同一本地网络上发送消息的方法不同。当主机需要将消息发送到位于同一网络上的另一个主机时，它将<strong>直接转发</strong>该消息。主机将使用ARP发现目标主机的MAC地址。IPv4数据包包含目标IPv4地址，并将该数据包<strong>封装</strong>到包含目标MAC地址的帧中并转发出去。</p>
</blockquote>
<blockquote>
<p>当主机需要将消息发送到远程网络时，它<strong>必须使用路由器</strong>。主机像以前一样在数据包中包含目标主机的IP地址。但是，当将数据包封装到帧中时，它将路由器的MAC地址作为帧的目标地址。这样，路由器将<strong>基于MAC地址接收帧</strong>。</p>
</blockquote>
<blockquote>
<p>源主机如何确定路由器的MAC地址？通常在其TCP/IP设置中配置的默认网关地址为主机提供路由器的IPv4地址。默认网关地址是与源主机连接到相同本地网络的路由器接口的地址。本地网络上的所有主机都使用默认网关地址将消息发送到路由器。而当主机知道默认网关IPv4地址时，它可以使用ARP确定MAC地址。然后将路由器的MAC地址放在帧里，该帧发往另一个网络。 </p>
</blockquote>
<blockquote>
<p>查看附图以查看不同设备的IP配置和默认网关地址</p>
</blockquote>
<p><img src="http://static.zybuluo.com/Adward-Wang/oz6p6rhz7fkibo0ilxw50fsn/Sending_to_Remote_Networks.jpg" alt="Sending_to_Remote_Networks"></p>
<p><img src="http://static.zybuluo.com/Adward-Wang/56q60sh1e7cfthlz77diumr7/H2.png" alt="H2_H3_IP"></p>
<pre><code>The subnet mask is used along with the source IP address to determine if two hosts are on the same network. An AND operation is performed on the IP address and subnet mask to determine the network.
子网掩码与源IP地址一起使用，以确定两个主机是否在同一网络上。对IP地址和子网掩码执行AND操作以确定网络。</code></pre><hr>
<h2 id="3-Creating-a-LAN"><a href="#3-Creating-a-LAN" class="headerlink" title="3. Creating a LAN"></a>3. Creating a LAN</h2><h3 id="3-1-Local-Area-Networks"><a href="#3-1-Local-Area-Networks" class="headerlink" title="3.1 Local Area Networks"></a>3.1 Local Area Networks</h3><blockquote>
<p>局域网（LAN）指一个局域网或一组统一管理控制的互联局域网。在联网初期，LAN被定义为存在于单个物理位置的小型网络。虽然LAN可以是安装在家庭或小型办公室中的单个本地网络，但LAN的定义已演变为<strong>包括由数百个主机组成的互连的本地网络</strong>，这些主机安装在多个建筑物和位置中。</p>
</blockquote>
<blockquote>
<p>要记住的是： 局域网内的所有本地网络都处于一个管理控制之下。局域网的其他共同特征是它们通常使用以太网或无线协议，并且它们支持高数据速率。</p>
</blockquote>
<blockquote>
<p>内部网通常用于指属于某个组织的专用局域网，旨在仅供该组织的成员、雇员或其他经过授权的人访问。</p>
</blockquote>
<blockquote>
<p>查看下图中的不同局域网类型，请注意是否存在可以创建或限制广播域的设备。</p>
</blockquote>
<p><img src="http://static.zybuluo.com/Adward-Wang/hdx622x918otyjh3li6ynkgx/Single_LAN.png" alt="Single_LAN"></p>
<p><img src="http://static.zybuluo.com/Adward-Wang/royvjrsh5pqecu4n1vetbjs0/Multiple_LAN.png" alt="Multiple_LAN"></p>
<pre><code>PS：局域网和子网概念不同</code></pre><h3 id="3-2-Assigning-Hosts-to-a-LAN"><a href="#3-2-Assigning-Hosts-to-a-LAN" class="headerlink" title="3.2 Assigning Hosts to a LAN"></a>3.2 Assigning Hosts to a LAN</h3><blockquote>
<p>在LAN内，可以将所有主机放置在单个本地网络上，也可以将它们划分在由分布层连接的多个网络之间。答案取决于所需的结果。如图1所示，将所有主机放置在单个本地网络上可以使所有其他主机看到它们。这是因为只有一个广播域，并且主机使用ARP相互查找。</p>
</blockquote>
<blockquote>
<p>在简单的网络设计中，将所有主机保留在单个本地网络中可能是有益的。但是，随着网络规模的扩大，增加的流量将降低网络性能和速度。在这种情况下，将某些主机移至远程网络可能会有所帮助。</p>
</blockquote>
<blockquote>
<p>如图2所示，在远程网络上放置其他主机将减少流量需求的影响。但是，如果不使用路由，则一个网络上的主机将无法与另一网络上的主机通信。路由器增加了网络配置的复杂性，并且可能导致从一个本地网络发送到另一个本地网络的数据包出现延迟或时间延迟。</p>
</blockquote>
<p><img src="http://static.zybuluo.com/Adward-Wang/pgo0y0ywmkdanml6tg7cboca/Figure%201.%20Placing%20All%20Hosts%20in%20One%20Local%20Network%20Segment.jpg" alt="Figure 1. Placing All Hosts in One Local Network Segment"></p>
<p><img src="http://static.zybuluo.com/Adward-Wang/73g1lmeav2hprs8pify3w7t6/Figure%202.%20Placing%20Hosts%20in%20Remote%20Network%20Segments.jpg" alt="Figure 2. Placing Hosts in Remote Network Segments"></p>

            </div>
            <hr />

            
            <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">写作不易，客官能否打赏一杯奶茶？</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>转载规则</span>
        </p>
        
            <div class="center-align">
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                    <img alt=""
                         style="border-width:0"
                         src="https://i.creativecommons.org/l/by/4.0/88x31.png"/>
                </a>
            </div>
            <br/>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text"
                  property="dct:title" rel="dct:type">
                    《Network Protocols and Architecture (3)》
                </span> 由
            <a xmlns:cc="http://creativecommons.org/ns#" href="/2020/06/04/network-protocols-architecture-3/" property="cc:attributionName"
               rel="cc:attributionURL">
                Adward
            </a> 采用
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                知识共享署名 4.0 国际许可协议
            </a>进行许可。
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    
    <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '',
        clientSecret: '',
        repo: 'EnforcerK.github.io',
        owner: 'EnforcerK',
        admin: "Adward_Wang",
        id: '2020/06/04/network-protocols-architecture-3/',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    
    <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<!-- <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script> -->

<script>
    new Valine({
        el: '#vcomments',
        appId: '',
        appKey: '',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'false' === 'true',
        avatar: 'wavatar',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: '如果你没有GitHub账号，还可以在这里评论啦！'
    });
</script>

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/06/05/network-protocols-architecture-4/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="Network Protocols and Architecture (4)">
                        
                        <span class="card-title">Network Protocols and Architecture (4)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            网络协议与架构 第四周课程笔记
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2020-06-05
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/计算机网络/" class="post-category" target="_blank">
                                    计算机网络
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/网络基础/" target="_blank">
                        <span class="chip bg-color">网络基础</span>
                    </a>
                    
                    <a href="/tags/Cisco/" target="_blank">
                        <span class="chip bg-color">Cisco</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/06/03/network-protocols-architecture-2/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/25.jpg" class="responsive-img" alt="Network Protocols and Architecture (2)">
                        
                        <span class="card-title">Network Protocols and Architecture (2)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            网络协议与架构 第二周课程笔记
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2020-06-03
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/计算机网络/" class="post-category" target="_blank">
                                    计算机网络
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/网络基础/" target="_blank">
                        <span class="chip bg-color">网络基础</span>
                    </a>
                    
                    <a href="/tags/Cisco/" target="_blank">
                        <span class="chip bg-color">Cisco</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 被捕の瓜子Blog<br />'
            + '作者: Adward<br />'
            + '链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () { bodyElement.removeChild(newdiv); }, 200);
    });
</script>

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>

<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>
<!-- 代码语言 -->
<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>
<!-- 代码块复制 -->
<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>
<script type="text/javascript" src="/libs/codeBlock/clipboard.min.js"></script>
<!-- 代码块收缩 -->
<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script> 
<!-- 代码块折行 -->
<style type="text/css">code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }</style>


    <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy; 2019-2020 Wangkun. 版权所有

            
            &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
            <span class="white-color">52.8k</span>
            

            <br>
            <span id="sitetime"></span>

            
            
            <br>
            
            <span id="busuanzi_container_site_pv" style='display:none'>
                <i class="fa fa-heart-o"></i>
                本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
            <span id="busuanzi_container_site_uv" style='display:none'>
                人次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
            </span>
            
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/enforcerK" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:wangkun8959@126.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>





    <a href="http://wpa.qq.com/msgrd?v=3&uin=1197820713&site=qq&menu=yes" class="tooltipped" target="_blank" data-tooltip="访问我的知乎" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>





    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>
</div>
    </div>
</footer>

<div class="progress-bar"></div>

<!-- 不蒜子计数初始值纠正 -->
<script>
    $(document).ready(function () {

        var int = setInterval(fixCount, 50);
        var pvcountOffset = 0;
        var uvcountOffset = 0;

        function fixCount() {
            if (document.getElementById("busuanzi_container_site_pv").style.display != "none") {
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset);
                clearInterval(int);
            }
            if ($("#busuanzi_container_site_pv").css("display") != "none") {
                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // 加上初始数据 
                clearInterval(int);
            }
        }
    });
</script>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2019, 05, 25, 00, 00, 00); //北京时间2019-5-25 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已运行 " + diffYears + " 年 " + diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>

    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript"> var OriginTitile = document.title, st; document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '');
</script>



    
    <script src="/libs/others/clicklove.js"></script>
    

    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    <!-- 雪花特效 -->
    

</body>

</html>